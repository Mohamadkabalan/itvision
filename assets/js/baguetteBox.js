!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.baguetteBox=t()}(this,function(){var a,l,r,s,o,t,c='<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',u='<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',d='<svg width="30" height="30"><g stroke="rgb(160, 160, 160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>',f={},g={captions:!0,fullScreen:!1,noScrollbars:!1,titleTag:!1,buttons:"auto",async:!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:"rgba(0, 0, 0, .8)"},m={},p=0,h=-1,n=!1,v=/.+\.(gif|jpe?g|png|webp)/i,y=[],b=[],k=[],w={},C=function(e){e.target&&"IMG"!==e.target.nodeName&&"FIGCAPTION"!==e.target.nodeName&&i()},E=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,P()},T=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,L()},x=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,i()},N=function(e){t=e.changedTouches[0].pageX},B=function(e){n||(e.preventDefault?e.preventDefault():e.returnValue=!1,touch=e.touches[0]||e.changedTouches[0],40<touch.pageX-t?(n=!0,P()):touch.pageX-t<-40&&(n=!0,L()))},S=function(e){n=!1};function F(e){switch(e.keyCode){case 37:P();break;case 39:L();break;case 27:i()}}function i(){f.noScrollbars&&(document.body.style.overflow="auto"),"none"!==a.style.display&&(R(document,"keydown",F),a.className="",setTimeout(function(){a.style.display="none",document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),f.afterHide&&f.afterHide()},500))}function I(t,n){var o,e,i,a=k[t];void 0!==a&&(a.getElementsByTagName("img")[0]?n&&n():(imageElement=b[h][t],imageCaption="function"==typeof f.captions?f.captions.call(b[h],imageElement):imageElement.getAttribute("data-caption")||imageElement.title,imageSrc=function(e){var t=imageElement.href;if(e.dataset){var n,o=[];for(n in e.dataset)"at-"!==n.substring(0,3)||isNaN(n.substring(3))||(o[n.replace("at-","")]=e.dataset[n]);keys=Object.keys(o).sort(function(e,t){return parseInt(e)<parseInt(t)?-1:1});for(var i=window.innerWidth*window.devicePixelRatio,a=0;a<keys.length-1&&keys[a]<i;)a++;t=o[keys[a]]||t}return t}(imageElement),o=z("figure"),e=z("img"),i=z("figcaption"),a.appendChild(o),o.innerHTML='<div class="spinner"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>',e.onload=function(){var e=document.querySelector("#baguette-img-"+t+" .spinner");o.removeChild(e),!f.async&&n&&n()},e.setAttribute("src",imageSrc),f.titleTag&&imageCaption&&(e.title=imageCaption),o.appendChild(e),f.captions&&imageCaption&&(i.innerHTML=imageCaption,o.appendChild(i)),f.async&&n&&n()))}function L(){var e;return p<=k.length-2?(p++,H(),q(p),e=!0):f.animation&&(l.className="bounce-from-right",setTimeout(function(){l.className=""},400),e=!1),f.onChange&&f.onChange(p,k.length),e}function P(){var e;return 1<=p?(p--,H(),M(p),e=!0):f.animation&&(l.className="bounce-from-left",setTimeout(function(){l.className=""},400),e=!1),f.onChange&&f.onChange(p,k.length),e}function H(){var e=100*-p+"%";"fadeIn"===f.animation?(l.style.opacity=0,setTimeout(function(){m.transforms?l.style.transform=l.style.webkitTransform="translate3d("+e+",0,0)":l.style.left=e,l.style.opacity=1},400)):m.transforms?l.style.transform=l.style.webkitTransform="translate3d("+e+",0,0)":l.style.left=e}function q(e){e-p>=f.preload||I(e+1,function(){q(e+1)})}function M(e){p-e>=f.preload||I(e-1,function(){M(e-1)})}function A(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function R(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}function j(e){return document.getElementById(e)}function z(e){return document.createElement(e)}return[].forEach||(Array.prototype.forEach=function(e,t){for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),[].filter||(Array.prototype.filter=function(e,t,n,o,i){for(n=this,o=[],i=0;i<n.length;i++)e.call(t,n[i],i,n)&&o.push(n[i]);return o}),{run:function(e,t){var n,i;m.transforms=void 0!==(n=z("div")).style.perspective||void 0!==n.style.webkitPerspective,m.svg=((n=z("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"==(n.firstChild&&n.firstChild.namespaceURI)),(a=j("baguetteBox-overlay"))?(l=j("baguetteBox-slider"),r=j("previous-button"),s=j("next-button"),o=j("close-button")):((a=z("div")).id="baguetteBox-overlay",document.getElementsByTagName("body")[0].appendChild(a),(l=z("div")).id="baguetteBox-slider",a.appendChild(l),(r=z("button")).id="previous-button",r.innerHTML=m.svg?c:"&lt;",a.appendChild(r),(s=z("button")).id="next-button",s.innerHTML=m.svg?u:"&gt;",a.appendChild(s),(o=z("button")).id="close-button",o.innerHTML=m.svg?d:"X",a.appendChild(o),r.className=s.className=o.className="baguetteBox-button",A(a,"click",C),A(r,"click",E),A(s,"click",T),A(o,"click",x),A(a,"touchstart",N),A(a,"touchmove",B),A(a,"touchend",S)),e=e,i=t,e=document.querySelectorAll(e),y.push(e),[].forEach.call(e,function(e){i&&i.filter&&(v=i.filter);var e=e.getElementsByTagName("a"),e=[].filter.call(e,function(e){return v.test(e.href)}),o=b.length;b.push(e),b[o].options=i,[].forEach.call(b[o],function(e,t){function n(e){e.preventDefault?e.preventDefault():e.returnValue=!1,function(e){if(h!==e){for(!function(e){for(var t in e=e||{},g)f[t]=g[t],void 0!==e[t]&&(f[t]=e[t]);l.style.transition=l.style.webkitTransition="fadeIn"===f.animation?"opacity .4s ease":"slideIn"===f.animation?"":"none","auto"===f.buttons&&("ontouchstart"in window||1===b[h].length)&&(f.buttons=!1),r.style.display=s.style.display=f.buttons?"":"none",a.style.backgroundColor=f.overlayBackgroundColor}(b[h=e].options);l.firstChild;)l.removeChild(l.firstChild);for(var t,n=k.length=0;n<b[e].length;n++)(t=z("div")).className="full-image",t.id="baguette-img-"+n,k.push(t),l.appendChild(k[n])}}(o),e=t,f.noScrollbars&&(document.body.style.overflow="hidden"),"block"!==a.style.display&&(A(document,"keydown",F),I(p=e,function(){q(p),M(p)}),H(),a.style.display="block",f.fullScreen&&(a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.mozRequestFullScreen&&a.mozRequestFullScreen()),setTimeout(function(){a.className="visible",f.afterShow&&f.afterShow()},50),f.onChange&&f.onChange(p,k.length))}A(e,"click",w[o+"_"+e]=n)})})},destroy:function(){R(a,"click",C),R(r,"click",E),R(s,"click",T),R(o,"click",x),R(a,"touchstart",N),R(a,"touchmove",B),R(a,"touchend",S),y.forEach(function(e){[].forEach.call(e,function(e){var n=b.length-1;[].forEach.call(b[n],function(e,t){R(e,"click",w[n+"_"+e])}),b.pop()})}),R(document,"keydown",F),document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay")),p=0,h=-1,y.length=0,b.length=0},showNext:L,showPrevious:P}});